#Code Encrypted By Javed Iqbal Sad-Boy
import base64
exec(base64.b64decode("IyBEZWNvbXBpbGUgYnkgOiBCaWxhbCBIYWlkZXIgSUQgCiMgVGltZSBTdWNjZXMgZGVjb21waWxlIDogMjAyMi0wNC0xMCAxOTo0MzoxMS4zNjY2NzkgCgppbXBvcnQgcmVxdWVzdHMsYnM0LGpzb24sb3Msc3lzLHJhbmRvbSxkYXRldGltZSx0aW1lLHJlCnRyeToKCWltcG9ydCByaWNoCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCW9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmljaCcpCgl0aW1lLnNsZWVwKDEpCgl0cnk6CgkJaW1wb3J0IHJpY2gKCWV4Y2VwdCBJbXBvcnRFcnJvcjoKCQlleGl0KCdUaWRhayBEYXBhdCBNZW5naW5zdGFsbCBNb2R1bGUgcmljaCwgQ29iYSBJbnN0YWxsIE1hbnVhbCAocGlwIGluc3RhbGwgcmljaCknKQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlIGFzIG1lCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlIGFzIHNvbApmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3AKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBHcm91cCBhcyBncApmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsIGFzIG5lbApmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIGNldGFrCmZyb20gcmljaC5tYXJrZG93biBpbXBvcnQgTWFya2Rvd24gYXMgbWFyawpmcm9tIHJpY2guY29sdW1ucyBpbXBvcnQgQ29sdW1ucyBhcyBjb2wKdHJ5OnVnZW4gPSBvcGVuKCd1c2VyLnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCmV4Y2VwdDp1Z2VuID0gWydNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMi4zLjQ7IHB0LXB0OyBTb255RXJpY3Nzb25MVDE4YSBCdWlsZC80LjAuMS5BLjAuMjY2KSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTMzLjEnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjE7IHJ1LXJ1OyA5OTMwaSBCdWlsZC9KT1A0MEQpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDIuMy40OyBydS1ydTsgTUlEIEJ1aWxkL0dSSjIyKSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTMzLjEnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4zOyBlbi11czsgQVNVU19UMDBKIEJ1aWxkL0pTUzE1USkgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjI7IHJ1LXJ1OyBGbHkgSVE0NDA0IEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMCBZYW5kZXhTZWFyY2gvNy4xNiddCnRyeTp1Z2VuMiA9IG9wZW4oJ3VzZXIyLnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCmV4Y2VwdDp1Z2VuMiA9IFsnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDIuMy40OyBwdC1wdDsgU29ueUVyaWNzc29uTFQxOGEgQnVpbGQvNC4wLjEuQS4wLjI2NikgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzMy4xJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuMi4xOyBydS1ydTsgOTkzMGkgQnVpbGQvSk9QNDBEKSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMCcsJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAyLjMuNDsgcnUtcnU7IE1JRCBCdWlsZC9HUkoyMikgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzMy4xJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuMzsgZW4tdXM7IEFTVVNfVDAwSiBCdWlsZC9KU1MxNVEpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuMi4yOyBydS1ydTsgRmx5IElRNDQwNCBCdWlsZC9KRFEzOSkgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAgWWFuZGV4U2VhcmNoLzcuMTYnXQoKaWQsaWQyLGxvb3Asb2ssY3AsYWt1bixvcHJlayxtZXRob2QsbGlzZW5zaWt1LHRhcGxpa2FzaSx0b2tlbmt1LHVpZCxsaXNlbnNpa3VuaT0gW10sW10sMCwwLDAsW10sW10sW10sW10sW10sW10sW10sW10KCnggPSAnXDMzW20nICMgREVGQVVMVAprID0gJ1wwMzNbOTNtJyAjIEtVTklORyArCmggPSAnXHgxYlsxOzkybScgIyBISUpBVSArCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVIC0KdSA9ICdcMDMzWzk1bScgIyBVTkdVCmtrID0gJ1wwMzNbMzNtJyAjIEtVTklORyAtCmIgPSAnXDMzWzE7OTZtJyAjIEJJUlUgLQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArClAgPSAnXDAzM1swOzAwbScKSiA9ICdcMDMzWzA7MzNtJwpTID0gJ1wwMzNbMDswMG0nCk4gPSAnXHgxYlswbScKSSA9J1wwMzNbMDszMm0nCkMgPSdcMDMzWzA7MzZtJwpNID0nXDAzM1swOzMxbScKVSA9J1wwMzNbMDszNW0nCksgPSdcMDMzWzA7MzNtJwpQPSdcMDMzWzAwbScKaD0nXDAzM1swOzkwbScKUT0iXDAzM1swMG0iCmtrPSdcMDMzWzA7MzJtJwpmZj0nXDAzM1swOzM2bScKRz0nXDAzM1swOzM2bScKcD0nXDAzM1swMG0nCmg9J1wwMzNbMDs5MG0nClE9IlwwMzNbMDBtIgpJPSdcMDMzWzA7MzJtJwpJST0nXDAzM1swOzM2bScKbT0nXDAzM1swOzMxbScKTyA9J1wwMzNbMDszM20nCkg9J1wwMzNbMDszM20nCmIgPSAnXDAzM1swOzM2bScKd2FyID0gIlvigKJdIgpCID0gcmFuZG9tLmNob2ljZShbVSxJLEssYixNXSkKCmRpYyA9IHsnMSc6J0phbnVhcmknLCcyJzonRmVicnVhcmknLCczJzonTWFyZXQnLCc0JzonQXByaWwnLCc1JzonTWVpJywnNic6J0p1bmknLCc3JzonSnVsaScsJzgnOidBZ3VzdHVzJywnOSc6J1NlcHRlbWJlcicsJzEwJzonT2t0b2JlcicsJzExJzonTm92ZW1iZXInLCcxMic6J0Rlc2VtYmVyJ30KZGljMiA9IHsnMDEnOidKYW51YXJpJywnMDInOidGZWJydWFyaScsJzAzJzonTWFyZXQnLCcwNCc6J0FwcmlsJywnMDUnOidNZWknLCcwNic6J0p1bmknLCcwNyc6J0p1bGknLCcwOCc6J0FndXN0dXMnLCcwOSc6J1NlcHRlbWJlcicsJzEwJzonT2t0b2JlcicsJzExJzonTm92ZW1iZXInLCcxMic6J0Rlc2VtYmVyJ30KdGdsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkuZGF5CmJsbiA9IGRpY1soc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLm1vbnRoKSldCnRobiA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLnllYXIKb2tjID0gJ09LLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcKY3BjID0gJ0NQLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcKZGVmIGNsZWFyKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKZGVmIGJhY2soKToKCWxvZ2luKCkKZGVmIGJhbm5lcigpOgoJY2xlYXIoKQoJd2VsID0gJyMgU0VMQU1BVCBEQVRBTkcgVFVLQU5HIENSQUNLJwoJd2VsMiA9IG1hcmsod2VsLCBzdHlsZT0nd2hpdGUnKQoJc29sKCkucHJpbnQod2VsMiwgc3R5bGU9J29uIHJlZCcpCglwcmludChmIiIiIHtQfQogX19fICAgIF9fXyAgICBfICAgICAgX19fX18gIF8gICAgXyAKfCAgX2BcICggIF9gXCAoICkgICAgKCAgXyAgKSggKSAgKCApCnwgKF8pICl8IChfKF8pfCB8ICAgIHwgKF8pIHxgXGBcLycvJwp8ICwgIC8gfCAgXylfIHwgfCAgXyB8ICBfICB8ICA+ICA8ICAKfCB8XCBcIHwgKF8oICl8IHxfKCApfCB8IHwgfCAvJy9cYFwgCihfKSAoXykoX19fXy8nKF9fX18vJyhfKSAoXykoXykgIChfKSIiIikKCgpkZWYgbG9naW4oKToKCQl0cnk6CgkJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQkJdG9rZW5rdS5hcHBlbmQodG9rZW4pCgkJCXRyeToKCQkJCXN5ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdKQoJCQkJc3kyID0ganNvbi5sb2FkcyhzeS50ZXh0KVsnbmFtZSddCgkJCQlzeTMgPSBqc29uLmxvYWRzKHN5LnRleHQpWydpZCddCgkJCQlzeTQgPSBqc29uLmxvYWRzKHN5LnRleHQpWydiaXJ0aGRheSddCgkJCQltZW51KHN5MixzeTMsc3k0KQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlsb2dpbl9sYWdpKCkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQkJYmFubmVyKCkKCQkJCWxpID0gJyMgS09ORUtTSSBJTlRFUk5FVCBCRVJNQVNBTEFIJwoJCQkJbG8gPSBtYXJrKGxpLCBzdHlsZT0ncmVkJykKCQkJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0nY3lhbicpCgkJCQlleGl0KCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJbG9naW5fbGFnaSgpCgpkZWYgbG9naW5fbGFnaSgpOgoJYmFubmVyKCkKCXNreSA9ICcjIEwgTyBHIEkgTicKCXNreTIgPSBtYXJrKHNreSwgc3R5bGU9J3JlZCcpCglzb2woKS5wcmludChza3kyLCBzdHlsZT0nY3lhbicpCglwYW5kYSA9IGlucHV0KHgrJ1snK3ArJ+KaoScreCsnXSBNYXN1a2FuIFRva2V0IDogJykKCWFrdW49b3BlbignLnRva2VuLnR4dCcsJ3cnKS53cml0ZShwYW5kYSkKCXRyeToKCQl0ZXMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3BhbmRhKQoJCXRlczMgPSBqc29uLmxvYWRzKHRlcy50ZXh0KVsnaWQnXQoJCXN1ZSA9ICcjIG5pY2UgTG9naW4gYmVyaGFzaWwnCgkJc3V1ID0gbWFyayhzdWUsIHN0eWxlPSdncmVlbicpCgkJc29sKCkucHJpbnQoc3V1LCBzdHlsZT0nY3lhbicpCgkJdGltZS5zbGVlcCgyLjUpCgkJbWVudSgpCglleGNlcHQgS2V5RXJyb3I6CgkJc3VlID0gJyMgTG9naW4gR2FnYWwsIENlayB0b2tlbicKCQlzdXUgPSBtYXJrKHN1ZSwgc3R5bGU9J3JlZCcpCgkJc29sKCkucHJpbnQoc3V1LCBzdHlsZT0nY3lhbicpCgkJdGltZS5zbGVlcCgyLjUpCgkJbG9naW5fbGFnaSgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJbG8gPSBtYXJrKGxpLCBzdHlsZT0ncmVkJykKCQlzb2woKS5wcmludChsbywgc3R5bGU9J2N5YW4nKQoJCWV4aXQoKQoJCQpkZWYgbWVudShteV9uYW1lLG15X2lkLG15X2JpcnRoZGF5KToKCXRyeTpzaCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9odHRwYmluLm9yZy9pcCcpLmpzb24oKQoJZXhjZXB0OnNoID0geydvcmlnaW4nOictJ30KCXRyeToKCQl0Z2x4ID0gbXlfYmlydGhkYXkuc3BsaXQoJy8nKVsxXQoJCWJsbnggPSBkaWMyW3N0cihteV9iaXJ0aGRheS5zcGxpdCgnLycpWzBdKV0KCQl0aG54ID0gbXlfYmlydGhkYXkuc3BsaXQoJy8nKVsyXQoJCWJpcnRoID0gdGdseCsnICcrYmxueCsnICcrdGhueAoJZXhjZXB0OmJpcnRoID0gJy0nCgliYW5uZXIoKQoJc2cgPSAnIyBJTkZPUk1BU0kgVVNFUicKCWZ4ID0gbWFyayhzZywgc3R5bGU9J3doaXRlJykKCXNvbCgpLnByaW50KGZ4KQoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIE5BTUEgOiAnK3N0cihteV9uYW1lKSkKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBJRCA6ICcrc3RyKG15X2lkKSkKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBTVEFUVVMgOiAnICtoaCsnUHJlbWl1bScpCglwcmludCh4KydbJytoKyfigKInK3grJ10gVEFOR0dBTCBMQUhJUiA6ICcrc3RyKGJpcnRoKSkKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBJUCBLQU1VIDogJytzdHIoc2hbJ29yaWdpbiddKSkKCWlvID0gJ1swMV0gQ3JhY2sgRGFyaSBQZXJ0ZW1hbmFuIFB1Ymxpa1xuWzAyXSBDcmFjayBJRCBEYXJpIEFrdW4gUHVibGlrIChNYXNzYWwpIFxuWzAzXSBDZWsgSGFzaWwgQ3JhY2tcblswNF0gQ2VrIE9wc2kgQ2hlY2twb2ludFxuWzAwXSBLZWx1YXInCglvaSA9IG5lbChpbywgc3R5bGU9J3doaXRlJykKCWNldGFrKG5lbChvaSwgdGl0bGU9J1BJTElIQU4gTUVOVScpKQoJamggPSBpbnB1dCh4KydbJytwKyfigKInK3grJ10gUGlsaWggOiAnKQoJaWYgamggaW4gWycxJywnMDEnXToKCQlkdW1wX3B1YmxpaygpCgllbGlmIGpoIGluIFsnMicsJzAyJ106CgkJZHVtcF9tYXNzYWwoKQoJZWxpZiBqaCBpbiBbJzMnLCcwMyddOgoJCXJlc3VsdCgpCgllbGlmIGpoIGluIFsnNCcsJzA0J106CgkJZmlsZSgpCgllbGlmIGpoIGluIFsnMCcsJzAwJ106CgkJb3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpCgkJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIFR1bmdndSAuLi4nKQoJCXRpbWUuc2xlZXAoMSkKCQlzdyA9ICcjIFNVS1NFUyBLRUxVQVInCgkJc29sKCkucHJpbnQobWFyayhzdywgc3R5bGU9J2dyZWVuJykpCgkJZXhpdCgpCgllbHNlOgoJCXJpYyA9ICcjIFBJTElIIFlBTkcgQkVORVIgTEFIIEtPTlRPTCcKCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQoJCWV4aXQoKQoKZGVmIHJlc3VsdCgpOgoJY2VrID0gJyMgQ0VLIFJFU1VMVCBDUkFDSycKCXNvbCgpLnByaW50KG1hcmsoY2VrLCBzdHlsZT0nZ3JlZW4nKSkKCWtheWVzID0gJ1swMV0gQ2VrIEhhc2lsIENwXG5bMDJdIENlayBIYXNpbCBPa1xuWzAwXSBLZW1iYWxpIEtlIE1lbnUnCglraXMgPSBuZWwoa2F5ZXMsIHN0eWxlPSd3aGl0ZScpCgljZXRhayhuZWwoa2lzLCB0aXRsZT0nUkVTVUxUUycpKQoJa3ogPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykKCWlmIGt6IGluIFsnMScsJzAxJ106CgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ0NQJykKCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJCWdhZGEgPSAnIyBESVJFS1RPUkkgVElEQUsgRElURU1VS0FOJwoJCQlzb2woKS5wcmludChtYXJrKGdhZGEsIHN0eWxlPSdyZWQnKSkKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQlpZiBsZW4odmluKT09MDoKCQkJaGFoYSA9ICcjIEFOREEgQkVMVU0gTUVNSUxJS0kgUkVTVUxUIENQJwoJCQlzb2woKS5wcmludChtYXJrKGhhaGEsIHN0eWxlPSd5ZWxsb3cnKSkKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQllbHNlOgoJCQlnZXJyID0gJyMgSEFTSUwgQ1AgQU5EQScKCQkJc29sKCkucHJpbnQobWFyayhnZXJyLCBzdHlsZT0nZ3JlZW4nKSkKCQkJY2loID0gMAoJCQlsb2wgPSB7fQoJCQlmb3IgaXNpIGluIHZpbjoKCQkJCXRyeTpoZW0gPSBvcGVuKCdDUC8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCQlleGNlcHQ6Y29udGludWUKCQkJCWNpaCs9MQoJCQkJaWYgY2loPDEwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpCgkJCQllbHNlOgoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpCgkJCWdlcnIyID0gJyMgUElMSUggUkVTVUxUIFVOVFVLIERJVEFNUElMS0FOJwoJCQlzb2woKS5wcmludChtYXJrKGdlcnIyLCBzdHlsZT0nd2hpdGUnKSkKCQkJZ2VlaCA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gUGlsaWggOiAnKQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnCgkJCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQoJCQkJZXhpdCgpCgkJCXRyeTpsaW4gPSBvcGVuKCdDUC8nK2dlaCwncicpLnJlYWQoKQoJCQlleGNlcHQ6CgkJCQloZWhlID0gJyMgRklMRSBUSURBSyBESVRFTVVLQU4sIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdyZWQnKSkKCQkJCXRpbWUuc2xlZXAoMikKCQkJCWJhY2soKQoJCQlha3VuID0gJyMgTElTVCBBS1VOIENQIEFOREEnCgkJCXNvbCgpLnByaW50KG1hcmsoYWt1biwgc3R5bGU9J3llbGxvdycpKQoJCQlodXMgPSBvcy5zeXN0ZW0oJ2NkIENQICYmIGNhdCAnK2dlaCkKCQkJYWt1bjIgPSAnIyBMSVNUIEFLVU4gQ1AgQU5EQScKCQkJc29sKCkucHJpbnQobWFyayhha3VuLCBzdHlsZT0neWVsbG93JykpCgkJCWlucHV0KHgrJ1snK2grJ+KAoicreCsnXSBLZW1iYWxpJykKCQkJYmFjaygpCgllbGlmIGt6IGluIFsnMicsJzAyJ106CgkJdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ09LJykKCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJCWdhZGEgPSAnIyBESVJFS1RPUkkgVElEQUsgRElURU1VS0FOJwoJCQlzb2woKS5wcmludChtYXJrKGdhZGEsIHN0eWxlPSdyZWQnKSkKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQlpZiBsZW4odmluKT09MDoKCQkJaGFoYSA9ICcjIEFOREEgQkVMVU0gTUVNSUxJS0kgUkVTVUxUIE9LJwoJCQlzb2woKS5wcmludChtYXJrKGhhaGEsIHN0eWxlPSd5ZWxsb3cnKSkKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQllbHNlOgoJCQlnZXJyID0gJyMgSEFTSUwgT0sgQU5EQScKCQkJc29sKCkucHJpbnQobWFyayhnZXJyLCBzdHlsZT0nZ3JlZW4nKSkKCQkJY2loID0gMAoJCQlsb2wgPSB7fQoJCQlmb3IgaXNpIGluIHZpbjoKCQkJCXRyeTpoZW0gPSBvcGVuKCdPSy8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCQlleGNlcHQ6Y29udGludWUKCQkJCWNpaCs9MQoJCQkJaWYgY2loPDEwMDoKCQkJCQlub20gPSAnMCcrc3RyKGNpaCkKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkKCQkJCQlwcmludCgnWycrbm9tKyddICcraXNpKycgLS0tPiAnK3N0cihsZW4oaGVtKSkrJyBBa3VuJyt4KQoJCQkJZWxzZToKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgLS0tPiAnK3N0cihsZW4oaGVtKSkrJyBBa3VuJyt4KQoJCQlnZXJyMiA9ICcjIFBJTElIIFJFU1VMVCBVTlRVSyBESVRBTVBJTEtBTicKCQkJc29sKCkucHJpbnQobWFyayhnZXJyMiwgc3R5bGU9J2dyZWVuJykpCgkJCWdlZWggPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykKCQkJdHJ5OmdlaCA9IGxvbFtnZWVoXQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlyaWMgPSAnIyBQSUxJSEFOIFRJREFLIEFEQSBESSBNRU5VJwoJCQkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkKCQkJCWV4aXQoKQoJCQl0cnk6bGluID0gb3BlbignT0svJytnZWgsJ3InKS5yZWFkKCkKCQkJZXhjZXB0OgoJCQkJaGVoZSA9ICcjIEZJTEUgVElEQUsgRElURU1VS0FOLCBQRVJJS1NBICYgQ09CQSBMQUdJJwoJCQkJc29sKCkucHJpbnQobWFyayhoZWhlLCBzdHlsZT0ncmVkJykpCgkJCQl0aW1lLnNsZWVwKDIpCgkJCQliYWNrKCkKCQkJYWt1biA9ICcjIExJU1QgQUtVTiBPSyBBTkRBJwoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQoJCQlodXMgPSBvcy5zeXN0ZW0oJ2NkIE9LICYmIGNhdCAnK2dlaCkKCQkJYWt1bjIgPSAnIyBMSVNUIEFLVU4gT0sgQU5EQScKCQkJc29sKCkucHJpbnQobWFyayhha3VuLCBzdHlsZT0nZ3JlZW4nKSkKCQkJaW5wdXQoeCsnWycraCsn4oCiJyt4KyddIEtlbWJhbGknKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycwJywnMDAnXToKCQliYWNrKCkKCWVsc2U6CgkJcmljID0gJyMgUElMSUhBTiBUSURBSyBBREEgREkgTUVOVScKCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQoJCWV4aXQoKQoKZGVmIGZpbGUoKToKCXRlayA9ICcjIENFSyBPUFNJIERBUkkgRklMRScKCXNvbCgpLnByaW50KG1hcmsodGVrLCBzdHlsZT0nd2hpdGUnKSwgc3R5bGU9J29uIHJlZCcpCglwcmludCh4KydbJytoKyfigKInK3grJ10gU2VkYW5nIE1lbWJhY2EgRmlsZSwgVHVuZ2d1IFNlYmVudGFyIC4uLicpCgl0aW1lLnNsZWVwKDIpCgl0ZWtzID0gJyMgUElMSUggRklMRSBZRyBBS0FOIERJIENFSycKCXNvbCgpLnByaW50KG1hcmsodGVrcywgc3R5bGU9J3doaXRlJykpCglteV9maWxlcyA9IFtdCgl0cnk6CgkJbGlzID0gb3MubGlzdGRpcignQ1AgS09OVE9MJykKCQlmb3Iga3QgaW4gbGlzOgoJCQlteV9maWxlcy5hcHBlbmQoa3QpCglleGNlcHQ6cGFzcwoJdHJ5OgoJCW1lciA9IG9zLmxpc3RkaXIoJ09LJykKCQlmb3IgdHkgaW4gbWVyOgoJCQlteV9maWxlcy5hcHBlbmQodHkpCglleGNlcHQ6cGFzcwoJaWYgbGVuKG15X2ZpbGVzKT09MDoKCQl5eSA9ICcjIEFOREEgQkVMVU0gTUVNSUxJS0kgUkVTVUxUIFVOVFVLIERJQ0VLJwoJCXNvbCgpLnByaW50KG1hcmsoeXksIHN0eWxlPSdyZWQnKSkKCQlleGl0KCkKCWVsc2U6CgkJY2loID0gMAoJCWxvbCA9IHt9CgkJZm9yIGlzaSBpbiBteV9maWxlczoKCQkJdHJ5OmhlbSA9IG9wZW4oJ0NQLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJZXhjZXB0OgoJCQkJdHJ5OmhlbSA9IG9wZW4oJ09LLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJCWV4Y2VwdDpjb250aW51ZQoJCQljaWgrPTEKCQkJaWYgY2loPDEwOgoJCQkJbm9tID0gJzAnK3N0cihjaWgpCgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJcHJpbnQoJ1snK25vbSsnXSAnK2lzaSsnIC0tLT4gJytzdHIobGVuKGhlbSkpKycgQWt1bicreCkKCQkJZWxzZToKCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIC0tLT4gJytzdHIobGVuKGhlbSkpKycgQWt1bicreCkKCQl0ZWtzMiA9ICcjIFBJTElIIEZJTEUgWUcgQUtBTiBESSBDRUsnCgkJc29sKCkucHJpbnQobWFyayh0ZWtzMiwgc3R5bGU9J3doaXRlJykpCgkJZ2VlaCA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gUGlsaWggOiAnKQoJCXRyeTpnZWggPSBsb2xbZ2VlaF0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnCgkJCXNvbCgpLnByaW50KG1hcmsocmljLCBzdHlsZT0ncmVkJykpCgkJCWV4aXQoKQoJCXRyeToKCQkJaGYgPSBvcGVuKCdDUC8nK2dlaCwncicpLnJlYWRsaW5lcygpCgkJCWZvciBmeiBpbiBoZjoKCQkJCWFrdW4uYXBwZW5kKGZ6LnJlcGxhY2UoJ1xuJywnJykpCgkJCWNla19vcHNpKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJdHJ5OgoJCQkJaGYgPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWRsaW5lcygpCgkJCQlmb3IgZnogaW4gaGY6CgkJCQkJYWt1bi5hcHBlbmQoZnoucmVwbGFjZSgnXG4nLCcnKSkKCQkJCWNla19vcHNpKCkKCQkJZXhjZXB0IElPRXJyb3I6CgkJCQloZWhlID0gJyMgRklMRSBUSURBSyBESVRFTVVLQU4sIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdyZWQnKSkKCQkJCXRpbWUuc2xlZXAoMikKCQkJCWJhY2soKQoKZGVmIGR1bXBfcHVibGlrKCk6Cgl0cnk6CgkJdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgpCgl3aW4gPSAnIyBEVU1QIElEIFBVQkxJSycKCXdpbjIgPSBtYXJrKHdpbiwgc3R5bGU9J3doaXRlJykKCXNvbCgpLnByaW50KHdpbjIpCglwcmludCh4KydbJytoKyfigKInK3grJ10gS2V0aWsgIm1lIiBKaWthIEluZ2luIER1bXAgSUQgRGFyaSBUZW1hbicpCglwaWwgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIE1hc3Vra2FuIElEIEZhY2Vib29rIDogJykKCXRyeToKCQlrb2gyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92Mi4wLycrcGlsKyc/ZmllbGRzPWZyaWVuZHMubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPScrdG9rZW5rdVswXSkuanNvbigpCgkJZm9yIHBpIGluIGtvaDJbJ2ZyaWVuZHMnXVsnZGF0YSddOgoJCQl0cnk6aWQuYXBwZW5kKHBpWydpZCddKyd8JytwaVsnbmFtZSddKQoJCQlleGNlcHQ6Y29udGludWUKCQlwcmludCh4KydbJytoKyfigKInK3grJ10gVG90YWwgOiAnK3N0cihsZW4oaWQpKSkKCQlzZXR0aW5nKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlsaSA9ICcjIEtPTkVLU0kgSU5URVJORVQgQkVSTUFTQUxBSCwgUEVSSUtTQSAmIENPQkEgTEFHSScKCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQoJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0nY3lhbicpCgkJZXhpdCgpCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCXRla3MgPSAnIyBQRVJURU1BTkFOIFRJREFLIFBVQkxJSyBBVEFVIFRPS0VOIFJVU0FLJwoJCXRla3MyID0gbWFyayh0ZWtzLCBzdHlsZT0ncmVkJykKCQlzb2woKS5wcmludCh0ZWtzMikKCQlleGl0KCkKCmRlZiBkdW1wX21hc3NhbCgpOgoJd2luID0gJyMgRFVNUCBJRCBQVUJMSUsgTUFTU0FMJwoJd2luMiA9IG1hcmsod2luLCBzdHlsZT0nd2hpdGUnKQoJc29sKCkucHJpbnQod2luMikKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBNQVNVS0tBTiBKVU1MQUggSUQgKExJTUlUIDEwKScpCgl0cnk6CgkJanVtID0gaW50KGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gQkVSQVBBIElEIDogJykpCglleGNlcHQgVmFsdWVFcnJvcjoKCQlwZXNhbiA9ICcjIElOUFVUIFlBTkcgQU5EQSBNQVNVS0tBTiBCVUtBTiBBTkdLQScKCQlwZXNhbjIgPSBtYXJrKHBlc2FuLCBzdHlsZT0ncmVkJykKCQlzb2woKS5wcmludChwZXNhbjIpCgkJZXhpdCgpCglpZiBqdW08MSBvciBqdW0+MTA6CgkJcGVzYW4gPSAnIyBPVVQgT0YgUkFOR0UgTUVOJwoJCXBlc2FuMiA9IG1hcmsocGVzYW4sIHN0eWxlPSdyZWQnKQoJCXNvbCgpLnByaW50KHBlc2FuMikKCQlleGl0KCkKCXNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkKCXl6ID0gMAoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIEtldGlrICJtZSIgSmlrYSBJbmdpbiBEdW1wIElEIERhcmkgVGVtYW4nKQoJZm9yIG1ldCBpbiByYW5nZShqdW0pOgoJCXl6Kz0xCgkJa2wgPSBpbnB1dCh4KydbJytoK3N0cih5eikreCsnXSBNYXN1a2thbiBJRCBLZSAnK3N0cih5eikrJyA6ICcpCgkJdWlkLmFwcGVuZChrbCkKCWZvciB1c2VyciBpbiB1aWQ6CgkJdHJ5OgoJCQljb2wgPSBzZXMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92Mi4wLycrdXNlcnIrJz9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdKS5qc29uKCkKCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106CgkJCQl0cnk6CgkJCQkJaXNvID0gKG1pWydpZCddKyd8JyttaVsnbmFtZSddKQoJCQkJCWlmIGlzbyBpbiBpZDpwYXNzCgkJCQkJZWxzZTppZC5hcHBlbmQoaXNvKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQkJcGFzcwoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCWxvID0gbWFyayhsaSwgc3R5bGU9J3JlZCcpCgkJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0nY3lhbicpCgkJCWV4aXQoKQoJdG90ID0gJyMgVE9UQUwg8J+RiSAlcyBJRCwgSk5HTiBMVVBBIEJFUkRPQSclKGxlbihpZCkpCglpZiBsZW4oaWQpPT0wOgoJCXRvdDIgPSBtYXJrKHRvdCwgc3R5bGU9J3JlZCcpCgllbHNlOgoJCXRvdDIgPSBtYXJrKHRvdCwgc3R5bGU9J2dyZWVuJykKCXNvbCgpLnByaW50KHRvdDIpCglzZXR0aW5nKCkKCmRlZiBzZXR0aW5nKCk6Cgl3bCA9ICcjIFNFVFRJTkcgVVJVVEFOIElEJwoJc29sKCkucHJpbnQobWFyayh3bCwgc3R5bGU9J3doaXRlJykpCgl0ZWtzID0gJ1swMV0gQ3JhY2sgRGFyaSBBa3VuIFRlcnR1YSAobWF5YW4pXG5bMDJdIENyYWNrIERhcmkgQWt1biBUZXJtdWRhIChNYW50YXApJwoJdGFrID0gbmVsKHRla3MsIHN0eWxlPSd3aGl0ZScpCgljZXRhayhuZWwodGFrLCB0aXRsZT0nU0VUVElORycpKQoJaHUgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykKCWlmIGh1IGluIFsnMScsJzAxJ106CgkJZm9yIGJhY290IGluIGlkOgoJCQlpZDIuYXBwZW5kKGJhY290KQoJZWxpZiBodSBpbiBbJzInLCcwMiddOgoJCWZvciBiYWNvdCBpbiBpZDoKCQkJaWQyLmluc2VydCgwLGJhY290KQoJCgllbHNlOgoJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnCgkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkKCQlleGl0KCkKCW1ldCA9ICcjIFBJTElIIE1FVEhPRCBDUkFDSycKCXNvbCgpLnByaW50KG1hcmsobWV0LCBzdHlsZT0nd2hpdGUnKSkKCWlveiA9ICdbMDFdIE1ldGhvZCBCLUFwaVxuWzAyXSBNZXRob2QgTW9iaWxlXG5bMDNdIE1ldGhvZGUgTWJhc2ljJwoJZ2VzcyA9IG5lbChpb3osIHN0eWxlPSd3aGl0ZScpCgljZXRhayhuZWwoZ2VzcywgdGl0bGU9J01FVEhPRCcpKQoJaGMgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykKCWlmIGhjIGluIFsnMScsJzAxJ106CgkJbWV0aG9kLmFwcGVuZCgnYXBpJykKCWVsaWYgaGMgaW4gWyczJywnMDMnXToKCQltZXRob2QuYXBwZW5kKCdNYmFzaWMnKQoJZWxzZToKCQltZXRob2QuYXBwZW5kKCdtb2JpbGUnKQoJZ3V3ID0gJyMgUElMSUhBTiBPUFNJIENSQUNLICcKCXNvbCgpLnByaW50KG1hcmsoZ3V3LCBzdHlsZT0nZ3JlZW4nKSkKCWFwbGlrID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBUYW1waWxrYW4gQXBsaWthc2kgVGVya2FpdCA/ICh5L3QpIDogJykKCWlmIGFwbGlrIGluIFsneScsJ1knXToKCQl0YXBsaWthc2kuYXBwZW5kKCd5YScpCgllbHNlOgoJCXRhcGxpa2FzaS5hcHBlbmQoJ25vJykKCW9zayA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gVGFtcGlsa2FuIE9wc2kgQ2hlY2twb2ludD8gWyBOb3QgUmVjb21tZW5kZWQgXSAoeS90KSA6ICcpCglpZiBvc2sgaW4gWyd5JywnWSddOgoJCW9wcmVrLmFwcGVuZCgneWEnKQoJZWxzZToKCQlvcHJlay5hcHBlbmQoJ25vJykKCXBhc3N3cmQoKQoKZGVmIHBhc3N3cmQoKToKCWxlciA9ICcjIEpBTkdBTiBMVVBBIEJFUkRPQSBBR0FSIEhBU0lMTllBIE9LJwoJc29sKCkucHJpbnQobWFyayhsZXIsIHN0eWxlPSd3aGl0ZScpKQoJa3JlayA9ICdIYXNpbCBPSyBEaXNpbXBhbiBLZSA6IE9LLyVzXG5IYXNpbCBDUCBEaXNpbXBhbiBLZSA6IENQLyVzXG5IaWR1cGthbi9NYXRpa2FuIE1vZGUgUGVzYXdhdCBTZXRpYXAgNSBNZW5pdCclKG9rYyxjcGMpCgljZXRhayhuZWwoa3JlaywgdGl0bGU9J0NSQUNLJykpCgl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6CgkJZm9yIHl1em9uZyBpbiBpZDI6CgkJCWlkZixubWYgPSB5dXpvbmcuc3BsaXQoJ3wnKVswXSx5dXpvbmcuc3BsaXQoJ3wnKVsxXS5sb3dlcigpCgkJCWZycyA9IG5tZi5zcGxpdCgnICcpWzBdCgkJCXB3diA9IFsnc2F5YW5nJywnYmlzbWlsbGFoJywnYW5qaW5nJywna2F0YXNhbmRpJywnbGFtcHVuZycsJ2tvbnRvbCcsJ3NheWFuZ2t1JywnZG9yYWVtb24nXQoJCQlpZiBsZW4obm1mKTw2OgoJCQkJaWYgbGVuKGZycyk8MzoKCQkJCQlwYXNzCgkJCQllbHNlOgoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpCgkJCWVsc2U6CgkJCQlpZiBsZW4oZnJzKTwzOgoJCQkJCXB3di5hcHBlbmQobm1mKQoJCQkJZWxzZToKCQkJCQlwd3YuYXBwZW5kKG5tZikKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQoJCQlpZiAnbW9iaWxlJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQoJCQllbGlmICdhcGknIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrMixpZGYscHd2KQoJCQllbGlmICdmcmVlJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFjazMsaWRmLHB3dikKCQkJZWxzZToKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCglwcmludCgnJykKCXRhbnlhID0gJyMgSU5HSU4gTUVOR0VDRUsgT1BTSSBIQVNJTCBDUkFDSz8nCglzb2woKS5wcmludChtYXJrKHRhbnlhLCBzdHlsZT0nd2hpdGUnKSkKCXdvaSA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gSW5naW4gTWVuYW1waWxrYW4gT3BzaSBIYXNpbCBDcmFjaz8gKHkvdCkgOiAnKQoJaWYgd29pIGluIFsneScsJ1knXToKCQljZWtfb3BzaSgpCgllbHNlOgoJCWV4aXQoKQoKZGVmIGNyYWNrKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJcHJpbnQoJ1xyJXMgW0NSQUNLIC4uLl0gJXMvJXMgIE9LOiVzICBDUDolcyAgJXMlcyVzJyUoYmksbG9vcCxsZW4oaWQyKSxvayxjcCxpbnQocGVycyksc3RyKGZmZikseCksIGVuZD0nICcpO3N5cy5zdGRvdXQuZmx1c2goKQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJdGl4ID0gdGltZS50aW1lKCkKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J20uZmFjZWJvb2suY29tJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YTIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRicpLnRleHQKCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksInVpZCI6aWRmLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsIm5leHQiOiJodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL3Rvb2xzL2RlYnVnL2FjY2Vzc3Rva2VuLyJ9CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtLmZhY2Vib29rLmNvbScsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50Ijp1YSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlpZiAneWEnIGluIG9wcmVrOgoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY2VrZXIoaWRmLHB3KQoJCQkJZWxzZToKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c2NwID0gZidb4oCiXSBJRCA6IHtpZGZ9IFvigKJdIFBBU1NXT1JEIDoge3B3fScKCQkJCQlzdGF0dXNjcDEgPSBuZWwoc3RhdHVzY3AsIHN0eWxlPSd5ZWxsb3cnKQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSdDSEVDS1BPSU5UJykpCgkJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljcCs9MQoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWhlYWRhcHA9eyJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2In0KCQkJCWlmICdubycgaW4gdGFwbGlrYXNpOgoJCQkJCW9rKz0xCgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW+KAol0gSUQgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nIE9LJykpCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6CgkJCQkJb2srPTEKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQl1c2VyPWlkZgoJCQkJCWluZm9ha3VuID0gIiIKCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCQkJZ2V0X2lkID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcHJvZmlsZS5waHAiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQluYW1hID0gcmUuZmluZGFsbCgnXDx0aXRsZVw+KC4qPyk8XC90aXRsZVw+JyxzdHIoZ2V0X2lkKSlbMF0KCQkJCQlyZXNwb25zZSA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9aW5mbyIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCXJlc3BvbnNlMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9ZnJpZW5kcyIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCXJlc3BvbnNlMyA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS97dXNlcn0vYWxsYWN0aXZpdHkvP2NhdGVnb3J5X2tleT1hbGwmc2VjdGlvbl9pZD15ZWFyXzIwMjImdGltZXN0YXJ0PTE2MDk0ODgwMDAmdGltZWVuZD0xNjQxMDIzOTk5JnNlY3Rpb25Mb2FkaW5nSUQ9bV90aW1lbGluZV9sb2FkaW5nX2Rpdl8xNjQxMDIzOTk5XzE2MDk0ODgwMDBfOF8iLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQlyZXNwb25zZTQgPSBzZXNzaW9uLmdldChmImh0dHBzOi8vbS5mYWNlYm9vay5jb20vdGltZWxpbmUvYXBwX2NvbGxlY3Rpb24vP2NvbGxlY3Rpb25fdG9rZW49e3VzZXJ9JTNBMTg0OTg1MDcxNTM4MDAyJTNBMzImX3JkYz0xJl9yZHIiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQl0cnk6bm9tZXIgPSByZS5maW5kYWxsKCdcPGFcIGhyZWZcPVwidGVsXDpcKy4qP1wiPlw8c3BhblwgZGlyXD1cImx0clwiPiguKj8pPFwvc3Bhbj48XC9hPicsc3RyKHJlc3BvbnNlKSlbMF0KCQkJCQlleGNlcHQ6bm9tZXIgPSAiIgoJCQkJCXRyeTplbWFpbCA9IHJlLmZpbmRhbGwoJ1w8YSBocmVmXD1cImh0dHBzXDpcL1wvbG1cLmZhY2Vib29rXC5jb21cL2xcLnBocFw/dVw9bWFpbC4qP1wiIHRhcmdldFw9XCIuKj9cIlw+KC4qPyk8XC9hXD4nLHN0cihyZXNwb25zZSkpWzBdLnJlcGxhY2UoJyYjMDY0OycsJ0AnKQoJCQkJCWV4Y2VwdDplbWFpbD0iIgoJCQkJCXRyeTp0dGwgPSByZS5maW5kYWxsKCdcPFwvdGRcPlw8dGRcIHZhbGlnblw9XCJ0b3BcIiBjbGFzc1w9XCIuKj9cIlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oXGQrXHMrXHcrXHMrXGQrKTxcL2Rpdlw+XDxcL3RkXD5cPFwvdHJcPicsc3RyKHJlc3BvbnNlKSlbMF0KCQkJCQlleGNlcHQ6dHRsPSIiCgkJCQkJdHJ5OnRlbWFuID0gcmUuZmluZGFsbCgnXDxoM1wgY2xhc3NcPVwiLio/XCJcPlRlbWFuXCBcKCguKj8pXCk8XC9oM1w+JyxzdHIocmVzcG9uc2UyKSlbMF0KCQkJCQlleGNlcHQ6dGVtYW4gPSAiIgoJCQkJCXRyeTpwZW5naWt1dCA9IHJlLmZpbmRhbGwoJ1w8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pXDxcL3NwYW5cPicsc3RyKHJlc3BvbnNlNCkpWzFdCgkJCQkJZXhjZXB0OnBlbmdpa3V0ID0gIiIKCQkJCQl0cnk6CgkJCQkJCXRhaHVuID0gIiIKCQkJCQkJY2VrX3RobiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XCBjbGFzc1w9XCIuKj9cIiBpZFw9XCJ5ZWFyXyguKj8pXCI+JyxzdHIocmVzcG9uc2UzKSkKCQkJCQkJZm9yIG5lbmVuIGluIGNla190aG46CgkJCQkJCQl0YWh1biArPSBuZW5lbisiLCAiCgkJCQkJZXhjZXB0OnBhc3MKCgkJCQkJaW5mb2FrdW4gKz0gKGYiW+Kck10gTmFtYSBBa3VuICAgICAgIDoge25hbWF9XG5b4pyTXSBKdW1sYWggVGVtYW4gICAgOiB7dGVtYW59XG5b4pyTXSBKdW1sYWggUGVuZ2lrdXQgOiB7cGVuZ2lrdXR9XG5b4pyTXSBFbWFpbCBBa3RpZiAgICAgOiB7ZW1haWx9XG5b4pyTXSBOb21vciBBa3RpZiAgICAgOiB7bm9tZXJ9XG5b4pyTXSBUYWh1biBBa3VuICAgICAgOiB7dGFodW59XG5b4pyTXSBUYW5nZ2FsIExhaGlyICAgOiB7dHRsfVxuIikKCgkJCQkJaGl0MSwgaGl0MiA9IDAsMAoJCQkJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCWlmICJEaWFrc2VzIG1lbmdndW5ha2FuIEZhY2Vib29rIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlXD4oLio/KTxcL3RpdGxlXD4iLHN0cihjZWspKToKCQkJCQkJaW5mb2FrdW4gKz0gKGYiQXBsaWthc2kgWWFuZyBUZXJrYWl0KlxuIikKCQkJCQkJaWYgIkFuZGEgdGlkYWsgbWVtaWxpa2kgYXBsaWthc2kgYXRhdSBzaXR1cyB3ZWIgYWt0aWYgdW50dWsgZGl0aW5qYXUuIiBpbiBjZWs6CgkJCQkJCQlpbmZvYWt1biArPSAoZiJUaWRhayBBZGEgQXBsaWthc2kgQWt0aWYgWWFuZyBUZXJrYWl0ICpcbiIpCgkJCQkJCWVsc2U6CgkJCQkJCQlpbmZvYWt1biArPSAoZiIJQXBsaWthc2kgQWt0aWYgOiBcbiIpCgkJCQkJCQlhcGtBa3RpZiA9IHJlLmZpbmRhbGwoJ1wvPjxkaXZcIGNsYXNzXD1cIi4qP1wiXD5cPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL3NwYW5cPicsc3RyKGNlaykpCgkJCQkJCQlkaXRhbWJhaGthbiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWspKQoJCQkJCQkJZm9yIG11bmN1bCBpbiBhcGtBa3RpZjoKCQkJCQkJCQloaXQxKz0xCgkJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCQlbe2hpdDF9XSB7bXVuY3VsfSB7ZGl0YW1iYWhrYW5baGl0Ml19XG4iKQoJCQkJCQkJCWhpdDIrPTEKCQkJCQkJaWYgIkFuZGEgdGlkYWsgbWVtaWxpa2kgYXBsaWthc2kgYXRhdSBzaXR1cyB3ZWIga2VkYWx1d2Fyc2EgdW50dWsgZGl0aW5qYXUiIGluIGNlazI6CgkJCQkJCQlpbmZvYWt1biArPSAoZiJcblRpZGFrIEFkYSBBcGxpa2FzaSBLZWRhbHV3YXJzYSBZYW5nIFRlcmthaXRcbiIpCgkJCQkJCWVsc2U6CgkJCQkJCQloaXQxLGhpdDI9MCwwCgkJCQkJCQlpbmZvYWt1biArPSAoZiIJQXBsaWthc2kgS2VkYWx1d2Fyc2EgOlxuIikKCQkJCQkJCWFwa0thZGFsdWFyc2EgPSByZS5maW5kYWxsKCdcLz48ZGl2XCBjbGFzc1w9XCIuKj9cIlw+XDxzcGFuXCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9zcGFuXD4nLHN0cihjZWsyKSkKCQkJCQkJCWthZGFsdWFyc2EgPSByZS5maW5kYWxsKCdcPGRpdlw+XDxcL2Rpdlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL2Rpdlw+JyxzdHIoY2VrMikpCgkJCQkJCQlmb3IgbXVuY3VsIGluIGFwa0thZGFsdWFyc2E6CgkJCQkJCQkJaGl0MSs9MQoJCQkJCQkJCWluZm9ha3VuICs9IChmIgkJW3toaXQxfV0ge211bmN1bH0ge2thZGFsdWFyc2FbaGl0Ml19XG4iKQoJCQkJCQkJCWhpdDIrPTEKCQkJCQllbHNlOnBhc3MKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9XG57aW5mb2FrdW59JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nT0snKSkKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCmRlZiBjcmFjazIoaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQoJZmZmID0gJyUnCglwcmludCgnXHIlcyBbQ1JBQ0sgLi4uXSAlcy8lcyAgT0slcyAgQ1AlcyAgJXMlcyVzJyUoYmksbG9vcCxsZW4oaWQyKSxvayxjcCxpbnQocGVycyksc3RyKGZmZikseCksIGVuZD0nICcpO3N5cy5zdGRvdXQuZmx1c2goKQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pLnJlcGxhY2UoJ1xuJywnJykKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCWhlYWQgPSB7IngtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAwMDAuMCwgMzAwMDAwMDAuMCkpLCAieC1mYi1zaW0taG5pIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAieC1mYi1uZXQtaG5pIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLCAieC1mYi1jb25uZWN0aW9uLXF1YWxpdHkiOiAiRVhDRUxMRU5UIiwgIngtZmItY29ubmVjdGlvbi10eXBlIjogImNlbGwuQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lIU0RQQSIsICJ1c2VyLWFnZW50IjogdWEsICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwgIngtZmItaHR0cC1lbmdpbmUiOiAiTGlnZXIifQoJCQlyZXNwID0gc2VzLmdldCgiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/Zm9ybWF0PWpzb24mZW1haWw9IitzdHIoaWRmKSsiJnBhc3N3b3JkPSIrc3RyKHB3KSsiJmNyZWRlbnRpYWxzX3R5cGU9ZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJmVycm9yX2RldGFpbF90eXBlPWJ1dHRvbl93aXRoX2Rpc2FibGVkJnNvdXJjZT1kZXZpY2VfYmFzZWRfbG9naW4mbWV0YV9pbmZfZmJtZXRhPSUyMCZjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZD0wJm1ldGhvZD1HRVQmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX2NhbGxlcl9jbGFzcz1jb20uZmFjZWJvb2suZm9zLmhlYWRlcnN2Mi5mYjRhb3JjYS5IZWFkZXJzVjJDb25maWdGZXRjaFJlcXVlc3RIYW5kbGVyJmFjY2Vzc190b2tlbj0zNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzImZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPWF1dGhlbnRpY2F0ZSZjcGw9dHJ1ZSIsIGhlYWRlcnM9aGVhZCkKCQkJaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHJlc3AuanNvbigpWyJlcnJvcl9tc2ciXToKCQkJCWlmICd5YScgaW4gb3ByZWs6CgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljZWtlcihpZGYscHcpCgkJCQllbHNlOgoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAnJShiLGlkZixwdykpCgkJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljcCs9MQoJCQkJYnJlYWsKCQkJZWxpZiAic2Vzc2lvbl9rZXkiIGluIHJlc3AudGV4dCBhbmQgIkVBQUEiIGluIHJlc3AudGV4dDoKCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBPSyAgICAgICAnJShoLGlkZixwdykpCgkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQkJCW9rKz0xCgkJCQlicmVhawoJCQllbHNlOgoJCQkJY29udGludWUKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXRpbWUuc2xlZXAoMzEpCglsb29wKz0xCgpkZWYgY3JhY2szKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJcHJpbnQoJ1xyJXMgW0NSQUNLIC4uLiDwn5qAXSAlcy8lcyAgT0s6JXMgIENQOiVzICAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQl0aXggPSB0aW1lLnRpbWUoKQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjoibWJhc2ljLmZhY2Vib29rLmNvbSIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEyLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/ZW1haWw9JytpZGYpLnRleHQKCQkJZGF0YWEgPXsKJ2xzZCc6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocCkpLmdyb3VwKDEpLAonamF6b2VzdCc6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwKJ21fdHMnOnJlLnNlYXJjaCgnbmFtZT0ibV90cyIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksCidsaSc6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksCidlbWFpbCc6aWRmLAoncGFzcyc6cHcKfQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLAonY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLAondXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywKJ29yaWdpbic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nLAonY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCid1c2VyLWFnZW50JzogdWEsCidhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywKJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLAonc2VjLWZldGNoLXVzZXInOiAnZW1wdHknLAonc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLAoncmVmZXJlcic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP2VtYWlsPScraWRmLAonYWNjZXB0LWVuY29kaW5nJzonZ3ppcCwgZGVmbGF0ZSBicicsCidhY2NlcHQtbGFuZ3VhZ2UnOidlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCd9KQoKCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9yZWd1bGFyL2xvZ2luLz9zaGJsPTEmcmVmc3JjPWRlcHJlY2F0ZWQnLGRhdGE9ZGF0YWEsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWlmICd5YScgaW4gb3ByZWs6CgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljZWtlcihpZGYscHcpCgkJCQllbHNlOgoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzY3AgPSBmJ1vigKJdIElEIDoge2lkZn0gW+KAol0gUEFTU1dPUkQgOiB7cHd9JwoJCQkJCXN0YXR1c2NwMSA9IG5lbChzdGF0dXNjcCwgc3R5bGU9J3llbGxvdycpCgkJCQkJY2V0YWsobmVsKHN0YXR1c2NwMSwgdGl0bGU9J0NIRUNLUE9JTlQnKSkKCQkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNwKz0xCgkJCQlicmVhawoJCQllbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJaWYgJ25vJ2luIHRhcGxpa2FzaToKCQkJCQlvays9MQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1vigKJdIElEIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdPSycpKQoJCQkJCWJyZWFrCgkJCQllbGlmICd5YSdpbiB0YXBsaWthc2k6CgkJCQkJb2srPTEKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQl1c2VyPWlkZgoJCQkJCWluZm9ha3VuID0gIiIKCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCQkJZ2V0X2lkID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcHJvZmlsZS5waHAiLGNvb2tpZXM9Y29raSkudGV4dAoJCQkJCW5hbWEgPSByZS5maW5kYWxsKCdcPHRpdGxlXD4oLio/KTxcL3RpdGxlXD4nLHN0cihnZXRfaWQpKVswXQoJCQkJCXJlc3BvbnNlID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/dj1pbmZvIixjb29raWVzPWNva2kpLnRleHQKCQkJCQlyZXNwb25zZTIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD92PWZyaWVuZHMiLGNvb2tpZXM9Y29raSkudGV4dAoJCQkJCXJlc3BvbnNlMyA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS97dXNlcn0vYWxsYWN0aXZpdHkvP2NhdGVnb3J5X2tleT1hbGwmc2VjdGlvbl9pZD15ZWFyXzIwMjImdGltZXN0YXJ0PTE2MDk0ODgwMDAmdGltZWVuZD0xNjQxMDIzOTk5JnNlY3Rpb25Mb2FkaW5nSUQ9bV90aW1lbGluZV9sb2FkaW5nX2Rpdl8xNjQxMDIzOTk5XzE2MDk0ODgwMDBfOF8iLGNvb2tpZXM9Y29raSkudGV4dAoJCQkJCXJlc3BvbnNlNCA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS90aW1lbGluZS9hcHBfY29sbGVjdGlvbi8/Y29sbGVjdGlvbl90b2tlbj17dXNlcn0lM0ExODQ5ODUwNzE1MzgwMDIlM0EzMiZfcmRjPTEmX3JkciIsY29va2llcz1jb2tpKS50ZXh0CgkJCQkJdHJ5Om5vbWVyID0gcmUuZmluZGFsbCgnXDxhXCBocmVmXD1cInRlbFw6XCsuKj9cIj5cPHNwYW5cIGRpclw9XCJsdHJcIj4oLio/KTxcL3NwYW4+PFwvYT4nLHN0cihyZXNwb25zZSkpWzBdCgkJCQkJZXhjZXB0Om5vbWVyID0gIiIKCQkJCQl0cnk6ZW1haWwgPSByZS5maW5kYWxsKCdcPGEgaHJlZlw9XCJodHRwc1w6XC9cL2xtXC5mYWNlYm9va1wuY29tXC9sXC5waHBcP3VcPW1haWwuKj9cIiB0YXJnZXRcPVwiLio/XCJcPiguKj8pPFwvYVw+JyxzdHIocmVzcG9uc2UpKVswXS5yZXBsYWNlKCcmIzA2NDsnLCdAJykKCQkJCQlleGNlcHQ6ZW1haWw9IiIKCQkJCQl0cnk6dHRsID0gcmUuZmluZGFsbCgnXDxcL3RkXD5cPHRkXCB2YWxpZ25cPVwidG9wXCIgY2xhc3NcPVwiLio/XCJcPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIlw+KFxkK1xzK1x3K1xzK1xkKyk8XC9kaXZcPlw8XC90ZFw+XDxcL3RyXD4nLHN0cihyZXNwb25zZSkpWzBdCgkJCQkJZXhjZXB0OnR0bD0iIgoJCQkJCXRyeTp0ZW1hbiA9IHJlLmZpbmRhbGwoJ1w8aDNcIGNsYXNzXD1cIi4qP1wiXD5UZW1hblwgXCgoLio/KVwpPFwvaDNcPicsc3RyKHJlc3BvbnNlMikpWzBdCgkJCQkJZXhjZXB0OnRlbWFuID0gIiIKCQkJCQl0cnk6cGVuZ2lrdXQgPSByZS5maW5kYWxsKCdcPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KVw8XC9zcGFuXD4nLHN0cihyZXNwb25zZTQpKVsxXQoJCQkJCWV4Y2VwdDpwZW5naWt1dCA9ICIiCgkJCQkJdHJ5OgoJCQkJCQl0YWh1biA9ICIiCgkJCQkJCWNla190aG4gPSByZS5maW5kYWxsKCdcPGRpdlwgY2xhc3NcPVwiLio/XCIgaWRcPVwieWVhcl8oLio/KVwiPicsc3RyKHJlc3BvbnNlMykpCgkJCQkJCWZvciBuZW5lbiBpbiBjZWtfdGhuOgoJCQkJCQkJdGFodW4gKz0gbmVuZW4rIiwgIgoJCQkJCWV4Y2VwdDpwYXNzCgoJCQkJCWluZm9ha3VuICs9IChmIlvinJNdIE5hbWEgQWt1biAgICAgICA6IHtuYW1hfVxuW+Kck10gSnVtbGFoIFRlbWFuICAgIDoge3RlbWFufVxuW+Kck10gSnVtbGFoIFBlbmdpa3V0IDoge3Blbmdpa3V0fVxuW+Kck10gRW1haWwgQWt0aWYgICAgIDoge2VtYWlsfVxuW+Kck10gTm9tb3IgQWt0aWYgICAgIDoge25vbWVyfVxuW+Kck10gVGFodW4gQWt1biAgICAgIDoge3RhaHVufVxuW+Kck10gVGFuZ2dhbCBMYWhpciAgIDoge3R0bH1cbiIpCgoJCQkJCWhpdDEsIGhpdDIgPSAwLDAKCQkJCQljZWsgPXNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2kpLnRleHQKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz1jb2tpKS50ZXh0CgkJCQkJaWYgIkRpYWtzZXMgbWVuZ2d1bmFrYW4gRmFjZWJvb2siIGluIHJlLmZpbmRhbGwoIlw8dGl0bGVcPiguKj8pPFwvdGl0bGVcPiIsc3RyKGNlaykpOgoJCQkJCQlpbmZvYWt1biArPSAoZiJBcGxpa2FzaSBZYW5nIFRlcmthaXQqXG4iKQoJCQkJCQlpZiAiQW5kYSB0aWRhayBtZW1pbGlraSBhcGxpa2FzaSBhdGF1IHNpdHVzIHdlYiBha3RpZiB1bnR1ayBkaXRpbmphdS4iIGluIGNlazoKCQkJCQkJCWluZm9ha3VuICs9IChmIlRpZGFrIEFkYSBBcGxpa2FzaSBBa3RpZiBZYW5nIFRlcmthaXQgKlxuIikKCQkJCQkJZWxzZToKCQkJCQkJCWluZm9ha3VuICs9IChmIglBcGxpa2FzaSBBa3RpZiA6IFxuIikKCQkJCQkJCWFwa0FrdGlmID0gcmUuZmluZGFsbCgnXC8+PGRpdlwgY2xhc3NcPVwiLio/XCJcPlw8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvc3Bhblw+JyxzdHIoY2VrKSkKCQkJCQkJCWRpdGFtYmFoa2FuID0gcmUuZmluZGFsbCgnXDxkaXZcPlw8XC9kaXZcPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9kaXZcPicsc3RyKGNlaykpCgkJCQkJCQlmb3IgbXVuY3VsIGluIGFwa0FrdGlmOgoJCQkJCQkJCWhpdDErPTEKCQkJCQkJCQlpbmZvYWt1biArPSAoZiIJCVt7aGl0MX1dIHttdW5jdWx9IHtkaXRhbWJhaGthbltoaXQyXX1cbiIpCgkJCQkJCQkJaGl0Mis9MQoJCQkJCQlpZiAiQW5kYSB0aWRhayBtZW1pbGlraSBhcGxpa2FzaSBhdGF1IHNpdHVzIHdlYiBrZWRhbHV3YXJzYSB1bnR1ayBkaXRpbmphdSIgaW4gY2VrMjoKCQkJCQkJCWluZm9ha3VuICs9IChmIlxuVGlkYWsgQWRhIEFwbGlrYXNpIEtlZGFsdXdhcnNhIFlhbmcgVGVya2FpdFxuIikKCQkJCQkJZWxzZToKCQkJCQkJCWhpdDEsaGl0Mj0wLDAKCQkJCQkJCWluZm9ha3VuICs9IChmIglBcGxpa2FzaSBLZWRhbHV3YXJzYSA6XG4iKQoJCQkJCQkJYXBrS2FkYWx1YXJzYSA9IHJlLmZpbmRhbGwoJ1wvPjxkaXZcIGNsYXNzXD1cIi4qP1wiXD5cPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL3NwYW5cPicsc3RyKGNlazIpKQoJCQkJCQkJa2FkYWx1YXJzYSA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWsyKSkKCQkJCQkJCWZvciBtdW5jdWwgaW4gYXBrS2FkYWx1YXJzYToKCQkJCQkJCQloaXQxKz0xCgkJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCQlbe2hpdDF9XSB7bXVuY3VsfSB7a2FkYWx1YXJzYVtoaXQyXX1cbiIpCgkJCQkJCQkJaGl0Mis9MQoJCQkJCWVsc2U6cGFzcwoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1vigKJdIElEIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX1cbntpbmZvYWt1bn0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdPSycpKQoJCQkJCWJyZWFrCgoJCQllbHNlOgoJCQkJY29udGludWUKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXRpbWUuc2xlZXAoMzEpCglsb29wKz0xCgpkZWYgY2VrZXIoaWRmLHB3KToKCWdsb2JhbCBjcAoJdWEgPSAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDguMS4wOyBTNDVCKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTYuMC40NjY0LjQ1IE1vYmlsZSBTYWZhcmkvNTM3LjM2JwoJaGVhZCA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9CglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXRyeToKCQloaSA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpCgkJaG8gPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOmlkZiwncGFzcyc6cHcsJ2xvZ2luJzonc3VibWl0J30sIGhlYWRlcnM9aGVhZCwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsJ2h0bWwucGFyc2VyJykKCQlqbyA9IGhvLmZpbmQoJ2Zvcm0nKQoJCWRhdGEgPSB7fQoJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10KCQlmb3IgYW5qIGluIGpvKCdpbnB1dCcpOgoJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoKCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pCgkJa2VudCA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytzdHIoam9bJ2FjdGlvbiddKSwgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWQpLnRleHQsJ2h0bWwucGFyc2VyJykKCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gQ1AgICAgICAgJXMnJShiLGlkZixwdyx4KSkKCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQljcCs9MQoJCW9wc2kgPSBrZW50LmZpbmRfYWxsKCdvcHRpb24nKQoJCWlmIGxlbihvcHNpKT09MDoKCQkJcHJpbnQoJ1xyJXMtLS0+IFRhcCBZZXMgLyBBMkYgKENlayBMb2dpbiBEaSBMaXRlL01iYXNpYyVzKSclKGhoLHgpKQoJCWVsc2U6CgkJCWZvciBvcHNpaSBpbiBvcHNpOgoJCQkJcHJpbnQoJ1xyJXMtLS0+ICVzJXMnJShrayxvcHNpaS50ZXh0LHgpKQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBjOgoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQoJCXByaW50KCdcciVzLS0tPiBUaWRhayBEYXBhdCBNZW5nZWNlayBPcHNpIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMpJXMnJSh1LHgpKQoJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCWNwKz0xCgpkZWYgY2VrX29wc2koKToKCWMgPSBsZW4oYWt1bikKCWh1ID0gJ1RlcmRhcGF0ICVzIEFrdW4gVW50dWsgRGljZWtcblNlYmVsdW0gTXVsYWksIE1vZGUgUGVzYXdhdC9VYmFoIEthcnR1IFNpbSBUZXJsZWJpaCBEYWh1bHUnJShjKQoJY2V0YWsobmVsKGh1LCB0aXRsZT0nQ0VLIE9QU0knKSkKCWlucHV0KHgrJ1snK2grJ+KAoicreCsnXSBNdWxhaScpCgljZWsgPSAnIyBQUk9TRVMgQ0VLIE9QU0kgRElNVUxBSScKCXNvbCgpLnByaW50KG1hcmsoY2VrLCBzdHlsZT0nZ3JlZW4nKSkKCWxvdmUgPSAwCglmb3Iga2VzIGluIGFrdW46CgkJdHJ5OgoJCQl0cnk6CgkJCQlpZCxwdyA9IGtlcy5zcGxpdCgnfCcpWzBdLGtlcy5zcGxpdCgnfCcpWzFdCgkJCWV4Y2VwdCBJbmRleEVycm9yOgoJCQkJdGltZS5zbGVlcCgyKQoJCQkJcHJpbnQoJ1xyJXMrKysrICVzIC0tLS0+IEVycm9yICAgICAgJXMnJShiLGtlcyx4KSkKCQkJCXByaW50KCdcciVzLS0tPiBQZW1pc2FoIFRpZGFrIERpZHVrdW5nIFVudHVrIFByb2dyYW0gSW5pJXMnJSh1LHgpKQoJCQkJY29udGludWUKCQkJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCQkJcHJpbnQoJ1xyJXMtLS0+ICVzLyVzIC0tLT4geyAlcyB9JXMnJShiaSxsb3ZlLGxlbihha3VuKSxpZCx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgkJCXVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgUzQ1QikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk2LjAuNDY2NC40NSBNb2JpbGUgU2FmYXJpLzUzNy4zNicKCQkJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCWhlYWRlciA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9CgkJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykKCQkJaG8gPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOmlkLCdwYXNzJzpwdywnbG9naW4nOidzdWJtaXQnfSwgaGVhZGVycz1oZWFkZXIsIGFsbG93X3JlZGlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJCWlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXRyeToKCQkJCQlqbyA9IGhvLmZpbmQoJ2Zvcm0nKQoJCQkJCWRhdGEgPSB7fQoJCQkJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10KCQkJCQlmb3IgYW5qIGluIGpvKCdpbnB1dCcpOgoJCQkJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoKCQkJCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pCgkJCQkJa2VudCA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytzdHIoam9bJ2FjdGlvbiddKSwgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcikudGV4dCwnaHRtbC5wYXJzZXInKQoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpCgkJCQkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpCgkJCQkJaWYgbGVuKG9wc2kpPT0wOgoJCQkJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljJXMpJyUoaGgseCkpCgkJCQkJZWxzZToKCQkJCQkJZm9yIG9wc2lpIGluIG9wc2k6CgkJCQkJCQlwcmludCgnXHIlcy0tLT4gJXMlcyclKGtrLG9wc2lpLnRleHQseCkpCgkJCQlleGNlcHQ6CgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkKCQkJCQlwcmludCgnXHIlcy0tLT4gVGlkYWsgRGFwYXQgTWVuZ2VjZWsgT3BzaSVzJyUodSx4KSkKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBPSyAgICAgICAlcyclKGgsaWQscHcseCkpCgkJCWVsc2U6CgkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gU0FMQUggICAgICAgJXMnJSh4LGlkLHB3LHgpKQoJCQlsb3ZlKz0xCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwcmludCgnJykKCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCXNvbCgpLnByaW50KG1hcmsobGksIHN0eWxlPSdyZWQnKSkKCQkJZXhpdCgpCglkYWggPSAnIyBET05FJwoJc29sKCkucHJpbnQobWFyayhkYWgsIHN0eWxlPSdncmVlbicpKQoJZXhpdCgpCgpkZWYga29udG9sKCk6CiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGYiIiIgICAgClvimqFdIFNJTEFLQU4gTUFTVUsgTUVOR0dVTkFLQU4gTElDRU5TRSIiIikKZGVmIF9fa2V5X18gKCk6I2xpbmU6NDIKICB0cnkgOiNsaW5lOjQzCiAgICBvcyAuc3lzdGVtICgnY2xlYXInKQogICAga29udG9sKCkKICAgIHByaW50IChmIiIiClsxXSBpbmdpbiBtZW1iZWxpIGFwaWtleT8KWzJdIExvZ2luIEFwaSBrZXkKWzNdIEV4aXQKIiIiKSNsaW5lOjQ5CiAgICBPT08wME8wT09PMDBPTzAwTyA9aW5wdXQgKGYiQ2hvb3NlIDogIikjbGluZTo1MAogICAgaWYgT09PMDBPME9PTzAwT08wME8gaW4gWycxJywnMDEnXTojbGluZTo1MQogICAgICBwcmludCAoZiJ7SH1be1B9IXtIfV17UH0gQW5kYSBBa2FuIERpYXJhaGthbiBLZSBXaGF0c2FwcC4uLiIpO3RpbWUgLnNsZWVwICgzICk7b3MgLnN5c3RlbSAoJ3hkZy1vcGVuIGh0dHBzOi8vd2EubWUvNjI4OTUzNzA3NjcxMzc/dGV4dD1CYW5nK01hdStCZWxpK0xpY2Vuc2lueWErRG9uZycpO2V4aXQgKCkjbGluZTo1MgogICAgZWxpZiBPT08wME8wT09PMDBPTzAwTyBpbiBbJzInLCcwMiddOiNsaW5lOjUzCiAgICAgIE8wMDBPMDAwT09PMDAwT09PID1pbnB1dCAoZiJNYXN1a2thbiBBcGkgS2V5IDogIikjbGluZTo1NAogICAgICBpZiBsZW4gKE8wMDBPMDAwT09PMDAwT09PICk9PTAgOiNsaW5lOjU1CiAgICAgICAgZXhpdCAoZiJ7UH1be019IXtQfV17TX0gSmFuZ2FuIEtvc29uZyIpI2xpbmU6NTYKICAgICAgZWxzZSA6I2xpbmU6NTcKICAgICAgICB3aXRoIHJlcXVlc3RzIC5TZXNzaW9uICgpYXMgTzBPME9PME8wTzAwT09PTzAgOiNsaW5lOjU4ICAgIyMjIyBJU0kgVE9LRU4gTFUgREFOICAgSUQgTFUKICAgICAgICAgIE9PTzAwT08wME8wTzBPT09PID1PME8wT08wTzBPMDBPT09PMCAuZ2V0IChmJ2h0dHBzOi8vYXBwLmNyeXB0b2xlbnMuaW8vYXBpL2tleS9hY3RpdmF0ZT90b2tlbj1XeUl4TlRneU9UZzFNQ0lzSWxOWVIxQXdZamxuU3pGNlVVUlNXVFExTkRkMFlrbE1WWEV4UkVSeU5HWkpla2ROVUZaQlp5c2lYUT09JlByb2R1Y3RJZD0xNDUxOSZLZXk9e08wMDBPMDAwT09PMDAwT09PfSZTaWduPVRydWUnKS5qc29uICgpWydsaWNlbnNlS2V5J10jbGluZTo1OQogICAgICAgICAgb3BlbiAoJ2FwaWtleS50eHQnLCd3Jykud3JpdGUgKE8wMDBPMDAwT09PMDAwT09PICkjbGluZTo2MAogICAgICAgICAgcHJpbnQgKGYiW+KAol0gRXhwaXJlZCA6IHtPT08wME9PMDBPME8wT09PT1snZXhwaXJlcyddLnNwbGl0KCdUJylbMF19Iik7dGltZSAuc2xlZXAgKDIgKTtsb2dpbigpI2xpbmU6NjEKICAgIGVsaWYgT09PMDBPME9PTzAwT08wME8gaW4gWyczJywnMDMnXTojbGluZTo2MgogICAgICBleGl0ICgpI2xpbmU6NjMKICAgIGVsc2UgOiNsaW5lOjY0CiAgICAgIGV4aXQgKGYie1B9W3tNfSF7UH1de019IFdyb25nIElucHV0IikjbGluZTo2NQogIGV4Y2VwdCAoS2V5RXJyb3IgKTojbGluZTo2NgogICAgZXhpdCAoZiJ7UH1be019IXtQfV17TX0gQXBpIEtleSBJbnZhbGlkIikjbGluZTo2NwogIGV4Y2VwdCBFeGNlcHRpb24gYXMgTzBPTzAwT09PMDAwT09PMDAgOiNsaW5lOjY4CiAgICBleGl0IChmIntQfVt7TX0he1B9XXtNfSB7TzBPTzAwT09PMDAwT09PMDB9IikjbGluZTo2OQoKCgppZiBfX25hbWVfXz09J19fbWFpbl9fJzoKCXRyeTpvcy5ta2RpcignQ1AnKQoJZXhjZXB0OnBhc3MKCXRyeTpvcy5ta2RpcignT0snKQoJZXhjZXB0OnBhc3MKCV9fa2V5X18oKQoKCg=="))